<%- include('./partials/head', {title:"PERSONALIZADO"}) %>

    <!-- =================== BODY || MAQUETADO DEL ARCHIVO HTML (Header, Main, Footer) =================== -->

    <body class="general_body">
        <!-- ======================== BODY || MAQUETADO DEL HEADER ======================== -->
        <%- include('./partials/header') %>

            <!-- ======================== BODY || MAQUETADO DEL MAIN ======================== -->
            <main class="general_main"> 
                <section class="section--add">
                    <h1 class="form__title--add">Agregar producto</h1>
                    <form action="/products/addPersonalizado" method="POST" enctype="multipart/form-data" class="form__register-add" id="personalizadoForm">
                        <div class="caja--product--add">
                            <label for="name" class="label--add">Nombre</label>
                            <input type="text" class="form--input"  id="name" name="name" value="<%= locals.old && old.name ? old.name : null %>">
                            <small class="text-danger"><%= locals.errors && errors.name ? errors.name.msg : null %></small>
                            <small class="error" id="msg_name"></small>
                        </div> 
                        <div class="caja--product--add">
                            <label for="height" class="label--add">Altura</label>
                            <input type="number" class="" id="height" name="height" placeholder="en centimetros" value="<%= locals.old && old.height ? errors.height ? null : old.height : null %>">
                            <small class="text-danger"><%= locals.errors && errors.height ? errors.height.msg : null %></small>
                            <small class="error" id="msg_height"></small>
                        </div>
                        <div class="caja--product--add">
                            <label for="materialId" class="label--add">Material</label>
                            <select class="form-select" aria-label="Default select example" id="materialId" name="materialId">
                                <option value="" hidden selected> Seleccione Categoria</option>
                                <% materials.forEach(material => { %>
                                    <option value="<%= material.id %>" <%= locals.old && material.id === +old.materialId ? 'selected' : null %>> <%= material.name %></option>
                                <% }) %>
                            </select>
                            <small class="text-danger"><%= locals.errors && errors.materialId? errors.materialId.msg : null %></small>
                            <small class="error" id="msg_materialId"></small>
                        </div>
                        <div class="caja--product--add">
                            <label for="categoryId" class="label--add">Categor√≠a</label>
                            <select class="form-select" aria-label="Default select example" id="categoryId" name="categoryId">
                                <option value="" hidden selected> Seleccione Categoria</option>
                                <% categories.forEach(categoria => { %>
                                    <option value="<%= categoria.id %>" <%= locals.old && categoria.id === +old.categoryId ? 'selected' :null %> ><%= categoria.name %></option>
                                <% }) %>
                            </select>
                            <small class="text-danger"><%= locals.errors && errors.categoryId ? errors.categoryId.msg : null %></small>
                            <small class="error" id="msg_categoryId"></small>
                        </div>
                        <div class="tex--add">
                            <h4 class="Descripcion-add">Descripcion</h4>
                            <textarea class="detalle--textarea-add " name="description" id="description" cols="35" rows="3"><%= locals.old && old.description ? old.description : null %></textarea>
                            <small class="text-danger"><%= locals.errors && errors.description ? errors.description.msg : null %></small>
                            <small class="error" id="msg_description"></small>
                        </div>

                        
                        <!--FALTA HACER ALGO-->
                        <div class="label--add">
                            <a class="imagen--product--add" href="">
                                <label class="form__button--imagen" for="imagePersonal">Seleccione una imagen</label>
                            <input hidden class="form--input" type="file" id="imagePersonal" name="imagePersonal" accept="image/*" multiple>
                            <small class="text-danger"><%= locals.errors && errors.imagePersonal ? errors.imagePersonal.msg : null %></small>
                            </a>
                        </div>

                        <div class="caja--product--add boton--cancelar--guardar">
                            <a href="/" class="form__button form__button--cancel">Cancelar</a>
                            <button class="form__button form__button--send" type="submit" id="personalizadoGuardar">Guardar</button>
                        </div>
                        <h6 class="errorForm" id="msg_personalizadoForm"></h6>
                    </form>
                </section>
            </main>

                </div>
                <!-- ======================== BODY || MAQUETADO DEL fOOTER ======================== -->
                <%- include('./partials/footer') %>

    <!-- vinculo a la carpeta de js que esta en public -->
    <script src="/javascripts/personalizado.js"> 

    
    </script>
    
</body>

    </html>